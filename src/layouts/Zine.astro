---
import type { CollectionEntry } from "astro:content";
import PageContainer from "../components/PageContainer.astro";
import FormattedDate from "@components/FormattedDate.astro";
import CoverImage from "../components/CoverImage.astro";
type Props = CollectionEntry<"zines">["data"];

const { title, pubDate, payhipLink, itchLink, coverImage, genre, category } = Astro.props;
---

<PageContainer>
  <div class="container w-full flex flex-col lg:flex-row flex-grow overflow-hidden mb-20 max-w-6xl px-4 sm:px-6 lg:px-8">
    <div class="w-full lg:w-1/2 mb-6 lg:mb-0 flex justify-center lg:justify-start">
      <div class="max-w-sm">
        {coverImage && <CoverImage imagePath={coverImage} altText={`Cover of ${title}`} imageDirectory="zine-images" />}
      </div>
    </div>

    <div class="w-full lg:w-1/2 lg:ml-8">
      <header class="entry-header">
        <h1 class="text-jlp-burnt text-2xl sm:text-3xl lg:text-4xl mb-4">{title}</h1>
      </header>

      <div class="border-solid border-jlp-nymph border-y py-8 mb-8 text-sm sm:text-base">
        <div class="m-0">
          <span class="block sm:inline">Available in Digital: </span>
          <div class="flex flex-wrap gap-2 sm:inline">
            {
              payhipLink && (
                <>
                  <a class="buy-link inline-block" href={payhipLink}>
                    Payhip
                  </a>
                  <span class="hidden sm:inline"> | </span>
                </>
              )
            }
            {
              itchLink && (
                <a class="buy-link inline-block" href={itchLink}>
                  itch.io
                </a>
              )
            }
          </div>
        </div>
      </div>
      <div class="prose-sm sm:prose-lg">
        <slot />
        <ul class="text-sm sm:text-base">
          <li><strong>Genre: </strong>{genre}</li>
          <li><strong>Category: </strong>{category}</li>
          <li><strong>Publication Date: </strong><FormattedDate date={pubDate} /></li>
        </ul>
      </div>
    </div>

    <br class="clear" />
  </div></PageContainer
>
